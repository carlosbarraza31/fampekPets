{"ast":null,"code":"import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PetGeneratorPage(props){let shownPage=props.shownPage;let pageName='dog-generator-page';const[data,setData]=React.useState([]);const dogBreedsUrl=\"https://dog.ceo/api/breeds/list/all\";const dogImageRef=React.useRef(null);const errorNotifRef=React.useRef(null);const errorNotifTextRef=React.useRef(null);function getRandomIntInclusive(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min+1)+min);}function handleNotificacionClose(){errorNotifRef.current.classList.add('h-hidden');}const showBreedImage=async event=>{const selectedBreed=event.currentTarget.getAttribute('data-js-breed');const breedUrl=\"https://dog.ceo/api/breed/\".concat(selectedBreed,\"/images\");console.log();try{const response=await fetch(breedUrl);const result=await response.json();const breedUrls=result.message;const breedSample=breedUrls[getRandomIntInclusive(0,breedUrls.length)];if(!breedSample){throw new Error('Connection error. Please try again. ');}dogImageRef.current.setAttribute('src',breedSample);dogImageRef.current.scrollIntoView({behavior:\"smooth\",block:\"center\",inline:\"nearest\"});}catch(e){errorNotifRef.current.classList.remove('h-hidden');errorNotifTextRef.current.innerText=e;errorNotifRef.current.scrollIntoView({behavior:\"smooth\",block:\"center\",inline:\"nearest\"});}};React.useEffect(()=>{fetchData();},[]);const fetchData=async()=>{try{const response=await fetch(dogBreedsUrl);const result=await response.json();let randomResult=[];Object.keys(result.message).forEach(breed=>{let randNum=Math.random();if(randNum>0.8){randomResult.push(breed);}});setData(randomResult);}catch(e){errorNotifRef.current.classList.remove('h-hidden');errorNotifTextRef.current.innerText=e.name+':'+e.message;}};return/*#__PURE__*/_jsx(\"div\",{className:\"b-pet-generator-page b-page \".concat(shownPage===pageName?'':'h-invisible'),\"data-js-page-name\":\"dog-generator-page\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"b-pet-generator-page_title\",children:\"Dog Image Generator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"error_notification h-hidden\",ref:errorNotifRef,children:[/*#__PURE__*/_jsx(\"img\",{className:\"error_icon\",src:\"img/error_icon.svg\",alt:\"error icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error_text\",children:/*#__PURE__*/_jsx(\"span\",{ref:errorNotifTextRef})}),/*#__PURE__*/_jsx(\"img\",{className:\"close_icon\",src:\"img/notification_close.svg\",onClick:handleNotificacionClose,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breed_grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"breed_image\",children:/*#__PURE__*/_jsx(\"img\",{className:\"dog_image\",src:\"img/dog_placeholder.svg\",alt:\"dog_placeholder\",ref:dogImageRef})}),/*#__PURE__*/_jsxs(\"div\",{className:\"breeds_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"b-pet-generator-page_subtitle breeds_subtitle\",children:\"Choose a breed!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"breeds_list\",children:data?data.map(breed=>/*#__PURE__*/_jsx(\"button\",{className:\"breed_item\",\"data-js-breed\":breed,onClick:showBreedImage,children:breed},breed)):null})]})]})]})});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","PetGeneratorPage","props","shownPage","pageName","data","setData","useState","dogBreedsUrl","dogImageRef","useRef","errorNotifRef","errorNotifTextRef","getRandomIntInclusive","min","max","Math","ceil","floor","random","handleNotificacionClose","current","classList","add","showBreedImage","event","selectedBreed","currentTarget","getAttribute","breedUrl","concat","console","log","response","fetch","result","json","breedUrls","message","breedSample","length","Error","setAttribute","scrollIntoView","behavior","block","inline","e","remove","innerText","useEffect","fetchData","randomResult","Object","keys","forEach","breed","randNum","push","name","className","children","ref","src","alt","onClick","map"],"sources":["/Users/carlosbarraza/Desktop/fampekPets/src/PetGeneratorPage.js"],"sourcesContent":["import React from 'react';\n\nexport default function PetGeneratorPage(props) {\n    let shownPage = props.shownPage;\n    let pageName = 'dog-generator-page';\n\n    const [data, setData] = React.useState([]);\n    const dogBreedsUrl = \"https://dog.ceo/api/breeds/list/all\";\n    const dogImageRef = React.useRef(null);\n    const errorNotifRef = React.useRef(null);\n    const errorNotifTextRef = React.useRef(null);\n\n    function getRandomIntInclusive(min, max) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    }\n    function handleNotificacionClose() {\n        errorNotifRef.current.classList.add('h-hidden');\n    }\n\n    const showBreedImage = async(event) => {\n        const selectedBreed = event.currentTarget.getAttribute('data-js-breed');\n        const breedUrl = `https://dog.ceo/api/breed/${selectedBreed}/images`;\n        console.log()\n\n        try {\n            const response = await fetch(breedUrl);\n            const result = await response.json();\n            const breedUrls = result.message;\n\n            const breedSample = breedUrls[getRandomIntInclusive(0, breedUrls.length)];\n            if (!breedSample) {\n                throw new Error('Connection error. Please try again. ');\n            }\n            dogImageRef.current.setAttribute('src', breedSample);\n            dogImageRef.current.scrollIntoView({ behavior: \"smooth\", block: \"center\", inline: \"nearest\" });\n\n        } catch (e) {\n            errorNotifRef.current.classList.remove('h-hidden');\n            errorNotifTextRef.current.innerText = e;\n            errorNotifRef.current.scrollIntoView({ behavior: \"smooth\", block: \"center\", inline: \"nearest\" });\n        }\n    }\n\n    React.useEffect(() => {\n        fetchData();\n    }, []);\n\n    const fetchData = async () => {\n        try {\n            const response = await fetch(dogBreedsUrl);\n            const result = await response.json();\n            let randomResult = [];\n\n            Object.keys(result.message).forEach(breed => {\n                let randNum = Math.random();\n                if (randNum > 0.8) {\n                    randomResult.push(breed);\n                }\n            })\n            setData(randomResult);\n        } catch (e) {\n            errorNotifRef.current.classList.remove('h-hidden');\n            errorNotifTextRef.current.innerText = e.name + ':' + e.message;\n        }\n    }\n\n    return (\n        <div className={`b-pet-generator-page b-page ${shownPage === pageName ? '' : 'h-invisible'}`} data-js-page-name=\"dog-generator-page\">\n            <section className=\"section\">\n                <div className=\"b-pet-generator-page_title\">\n                    Dog Image Generator\n                </div>\n                <div className='error_notification h-hidden' ref={errorNotifRef}>\n                    <img className='error_icon' src='img/error_icon.svg' alt='error icon'></img>\n                    <div className='error_text'><span ref={errorNotifTextRef}></span></div>\n                    <img className='close_icon' src='img/notification_close.svg' onClick={handleNotificacionClose} alt=\"\"></img>\n                </div>\n                <div className=\"breed_grid\">\n                    <div className=\"breed_image\">\n                        <img className=\"dog_image\" src =\"img/dog_placeholder.svg\" alt=\"dog_placeholder\" ref={dogImageRef}></img>\n                    </div>\n                    <div className=\"breeds_container\">\n                        <div className=\"b-pet-generator-page_subtitle breeds_subtitle\">\n                            Choose a breed!\n                        </div>\n                        <div className=\"breeds_list\">\n                            {data ? data.map(breed => <button className=\"breed_item\" data-js-breed={breed} key={breed} onClick={showBreedImage}>{breed}</button>) : null}\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}